server:
  host: "0.0.0.0"
  port: 8080
  grpc_port: 50051
  mode: "release"

database:
  host: "${DB_HOST}"
  port: 5432
  user: "${DB_USER}"
  password: "${DB_PASSWORD}"
  dbname: "${DB_NAME}"
  sslmode: "disable"
  timezone: "Asia/Shanghai"
  max_idle_conns: 20
  max_open_conns: 200
  conn_max_lifetime: "1h"

redis:
  host: "${REDIS_HOST}"
  port: 6379
  password: "${REDIS_PASSWORD}"
  db: 0
  pool_size: 200

email:
  smtp_host: "${SMTP_HOST}"
  smtp_port: 465
  smtp_user: "${SMTP_USER}"
  smtp_password: "${SMTP_PASSWORD}"
  from_address: "${SMTP_USER}"
  from_name: "MagTrade"

kafka:
  brokers:
    - "${KAFKA_BROKER_1}"
    - "${KAFKA_BROKER_2}"
  consumer_group: "magtrade-consumer"
  topics:
    flash_sale_orders: "flash-sale-orders"
    order_status_change: "order-status-change"
    ai_analysis_tasks: "ai-analysis-tasks"

jwt:
  secret: "${JWT_SECRET}"
  access_token_expire: "2h"
  refresh_token_expire: "168h"

ai:
  provider: "siliconflow"
  base_url: "https://api.siliconflow.cn/v1"
  api_key: "${AI_API_KEY}"
  model: "deepseek-ai/DeepSeek-V3.2"
  max_tokens: 8192
  temperature: 0

log:
  level: "info"
  format: "console"
  output: "stdout"

rate_limit:
  requests_per_second: 100000
  burst: 200000
